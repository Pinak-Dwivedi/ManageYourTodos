"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[921],{921:function(e,s,n){n.r(s),n.d(s,{default:function(){return m}});var r=n(165),a=n(861),t=n(439),o=n(791),i=n(689),c=n(87),l=n(725),d=n(73),u=n(184);var m=function(){var e=(0,o.useContext)(l.Z),s=e.setAuthUser,n=e.isAuthenticated,m=e.setIsAuthenticated,f=e.loading,h=e.setLoading,p=(0,o.useState)(""),g=(0,t.Z)(p,2),x=g[0],v=g[1],j=(0,o.useState)(""),N=(0,t.Z)(j,2),b=N[0],w=N[1],P=(0,o.useState)({}),k=(0,t.Z)(P,2),y=k[0],Z=k[1],A=(0,i.s0)();function S(){return(S=(0,a.Z)((0,r.Z)().mark((function e(n){var a,t,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,n.preventDefault(),e.next=5,fetch("".concat("https://manage-your-todos-backend.onrender.com","/users/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x,password:b})});case 5:return a=e.sent,e.next=8,a.json();case 8:if(t=e.sent,Z({}),t.success){e.next=12;break}throw t;case 12:m(!0),s(t.user),A("/dashboard"),h(!1),d.ZP.success(t.message),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(1),m(!1),s({}),h(!1),"object"===typeof e.t0.error?(o={},e.t0.error.forEach((function(e){for(var s in e)o[s]=e[s][0]})),Z(o)):d.ZP.error(e.t0.error);case 25:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){if(n)return A("/dashboard")})),(0,u.jsx)("div",{className:"login-container",children:(0,u.jsxs)("form",{className:"login-form",onSubmit:function(e){if(f)return!1;!function(e){S.apply(this,arguments)}(e)},children:[(0,u.jsx)("div",{className:"login-heading",children:"Log In"}),(0,u.jsxs)("div",{className:"login-form-field",children:[(0,u.jsx)("label",{className:"login-form-label",htmlFor:"email",children:"Email address"}),(0,u.jsx)("input",{className:"login-form-input",type:"text",id:"email",name:"email",placeholder:"Enter Email",value:x,required:!0,onChange:function(e){return v(e.target.value)}}),(0,u.jsx)("span",{className:"login-form-error",children:y.email})]}),(0,u.jsxs)("div",{className:"login-form-field",children:[(0,u.jsx)("label",{className:"login-form-label",htmlFor:"password",children:"Password"}),(0,u.jsx)("input",{className:"login-form-input",type:"password",id:"password",name:"password",placeholder:"Enter Password",value:b,required:!0,onChange:function(e){return w(e.target.value)}}),(0,u.jsx)("span",{className:"login-form-error",children:y.password})]}),(0,u.jsx)("button",{className:"login-form-submitButton",type:"submit",children:"LogIn"}),(0,u.jsxs)("div",{className:"forgotPass-noAccount",children:[(0,u.jsxs)("div",{className:"forgotPass",children:["Forgot Passowrd? ",(0,u.jsx)(c.rU,{className:"forgotPass-noAccount-link",to:"/forgotpassword",children:"Forgot Password"})]}),(0,u.jsxs)("div",{className:"noAccount",children:["Do not have an accont? ",(0,u.jsx)(c.rU,{className:"forgotPass-noAccount-link",to:"/register",children:"SignUp"})]})]})]})})}}}]);
//# sourceMappingURL=921.8f1eca32.chunk.js.map